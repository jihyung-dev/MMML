<!DOCTYPE html>
<html  lang="ko"
       xmlns:th="http://www.thymeleaf.org"
       xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
       layout:decorate="~{layouts/default_layout}"
       th:with="IS_LOGIN=false,CONTENT_TITLE='로그인 | 내돈내삶'">

<head>
    <link rel="stylesheet" th:href="@{/css/login.css}">
    <script src="/js/login/login.js"></script>
</head>

<!-- 🔹 로그인 컨텐츠: 화면 중앙 정렬 -->
<main layout:fragment="content"
      class="container d-flex justify-content-center align-items-center"
      style="min-height: 70vh;">


<div class="login-container">
    <h2>아이디 찾기</h2>

    <!-- 에러 메시지 -->
    <p th:if="${error}" class="error-text" th:text="${error}"></p>

    <!-- 성공 시 아이디 보여주기 -->
    <p th:if="${memberId}" class="success-text">
        찾은 아이디: <span th:text="${memberId}"></span>
    </p>

    <!-- 이름 + 이메일로 아이디 찾기 -->
    <form th:action="@{/find-id}" method="post" id="findIdForm">
        <label>이름</label>
        <input type="text" name="memberName" required>

        <label>이메일</label>
        <input type="email" name="email" id="emailInput" required>

        <!-- 이메일 인증 여부 -->
        <input type="hidden" id="isEmailVerified" name="isEmailVerified" value="false">

        <!-- 인증 요청 버튼 -->
        <button type="button" onclick="sendEmailAuth()">이메일 인증번호 요청</button>

        <!-- 인증번호 입력란 -->
        <div id="authCodeBox">
            <input type="text" id="authCodeInput" placeholder="인증번호 입력">
            <button type="button" onclick="sendAuthMail()">인증하기</button>
        </div>

        <button type="submit">아이디 찾기</button>
    </form>

    <div class="login-links">
        <a th:href="@{/login}">로그인</a>
    </div>
</div>

</main>
</html>
