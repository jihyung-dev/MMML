<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/default_layout}"
      th:with="CONTENT_TITLE='íŒë§¤ì ê´€ë¦¬ | ë‚´ëˆë‚´ì‚¶'">

<head>
    <meta charset="UTF-8">
    <style layout:fragment="css">
        .admin-page-wrapper {
            margin-top: 30px;
            margin-bottom: 40px;
        }

        .admin-header {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: flex-end;
            gap: 12px;
            margin-bottom: 10px;
        }

        .admin-title-box {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .admin-table-title {
            font-size: 24px;
            font-weight: 700;
            margin: 0;
        }

        .admin-subtext {
            margin: 0;
            color: #6c757d;
            font-size: 14px;
        }

        .admin-legend {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            font-size: 12px;
            color: #6c757d;
        }

        .admin-legend span::before {
            content: "â€¢ ";
        }

        .admin-card {
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.05);
            border: 1px solid #f1f3f5;
            padding: 16px 18px 14px;
        }

        .admin-table-wrapper {
            margin-top: 10px;
        }

        .admin-pagination-wrapper {
            margin-top: 16px;
        }
    </style>
</head>

<body>
<main layout:fragment="content" class="container" style="min-height: 70vh;">

    <div class="admin-page-wrapper">

        <!-- ìƒë‹¨ í—¤ë” -->
        <div class="admin-header">
            <div class="admin-title-box">
                <h1 class="admin-table-title">íŒë§¤ì ê´€ë¦¬</h1>
                <p class="admin-subtext">
                    íŒë§¤ìë¡œ ë“±ë¡ëœ íšŒì› ë° ì‚¬ì—…ì ì •ë³´ë¥¼ ì¡°íšŒÂ·ê´€ë¦¬í•©ë‹ˆë‹¤.
                </p>
            </div>

            <div class="admin-legend">
                <span>íšŒì› ID, íšŒì› ë‹‰ë„¤ì„, ìƒí˜¸ëª…ìœ¼ë¡œ ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span>
            </div>
        </div>

        <!-- ğŸ” ê²€ìƒ‰ í¼ -->
        <form class="row g-2 mb-3" th:action="@{/admin/sellers}" method="get">
            <div class="col-sm-4 col-8">
                <input type="text"
                       name="keyword"
                       class="form-control form-control-sm"
                       placeholder="íšŒì› ID / ë‹‰ë„¤ì„ / ìƒí˜¸ëª… ê²€ìƒ‰"
                       th:value="${keyword}">
            </div>
            <div class="col-auto">
                <button class="btn btn-sm btn-primary" type="submit">ê²€ìƒ‰</button>
            </div>
            <div class="col-auto" th:if="${keyword != null and !#strings.isEmpty(keyword)}">
                <a class="btn btn-sm btn-outline-secondary" th:href="@{/admin/sellers}">ì´ˆê¸°í™”</a>
            </div>
        </form>

        <!-- ì¹´ë“œ + í…Œì´ë¸” -->
        <div class="admin-card">
            <div class="admin-table-wrapper table-responsive">
                <table class="table table-sm table-hover align-middle mb-2">
                    <thead class="table-light">
                    <tr>
                        <th>íŒë§¤ì ID</th>
                        <th>íšŒì› ID</th>
                        <th>íšŒì› ë‹‰ë„¤ì„</th>
                        <th>ì‚¬ì—…ìë²ˆí˜¸</th>
                        <th>ìƒí˜¸ëª…</th>
                        <th>ì—°ë½ì²˜</th>
                        <th>ì´ë©”ì¼</th>
                        <th>ë“±ë¡ì¼</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="s : ${sellerPage.content}">
                        <td th:text="${s.id}">1</td>
                        <td th:text="${s.member != null ? s.member.memberId : 'ì•Œìˆ˜ì—†ìŒ'}">user01</td>
                        <td th:text="${s.member != null ? s.member.memberNickname : '-'}">ê¸¸ë™ì´</td>
                        <td th:text="${s.bizNo}">123-45-67890</td>
                        <td th:text="${s.bizName}">ë‚´ëˆë‚´ì‚¶ìƒµ</td>
                        <td th:text="${s.bizPhone}">010-0000-0000</td>
                        <td th:text="${s.bizEmail}">shop@example.com</td>
                        <td th:text="${#temporals.format(s.createdAt, 'yyyy-MM-dd HH:mm')}">
                            2025-01-01 10:00
                        </td>
                    </tr>

                    <tr th:if="${#lists.isEmpty(sellerPage.content)}">
                        <td colspan="8" class="text-center text-muted py-4">
                            ì¡°ê±´ì— ë§ëŠ” íŒë§¤ìê°€ ì—†ìŠµë‹ˆë‹¤.
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
            <div class="d-flex justify-content-center admin-pagination-wrapper"
                 th:if="${sellerPage.totalPages > 1}">
                <ul class="pagination pagination-sm mb-0">

                    <!-- ì²˜ìŒ í˜ì´ì§€ -->
                    <li class="page-item" th:classappend="${sellerPage.first} ? 'disabled'">
                        <a class="page-link"
                           th:href="@{'/admin/sellers'(page=0, size=${sellerPage.size}, keyword=${keyword})}">
                            â‰ª
                        </a>
                    </li>

                    <!-- ì´ì „ í˜ì´ì§€ -->
                    <li class="page-item" th:classappend="${sellerPage.first} ? 'disabled'">
                        <a class="page-link"
                           th:href="@{'/admin/sellers'(page=${sellerPage.number - 1}, size=${sellerPage.size}, keyword=${keyword})}">
                            â€¹
                        </a>
                    </li>

                    <!-- í˜ì´ì§€ ë²ˆí˜¸ë“¤ -->
                    <li class="page-item"
                        th:each="p : ${#numbers.sequence(0, sellerPage.totalPages - 1)}"
                        th:classappend="${p == sellerPage.number} ? 'active'">
                        <a class="page-link"
                           th:href="@{'/admin/sellers'(page=${p}, size=${sellerPage.size}, keyword=${keyword})}"
                           th:text="${p + 1}">
                            1
                        </a>
                    </li>

                    <!-- ë‹¤ìŒ í˜ì´ì§€ -->
                    <li class="page-item" th:classappend="${sellerPage.last} ? 'disabled'">
                        <a class="page-link"
                           th:href="@{'/admin/sellers'(page=${sellerPage.number + 1}, size=${sellerPage.size}, keyword=${keyword})}">
                            â€º
                        </a>
                    </li>

                    <!-- ë§ˆì§€ë§‰ í˜ì´ì§€ -->
                    <li class="page-item" th:classappend="${sellerPage.last} ? 'disabled'">
                        <a class="page-link"
                           th:href="@{'/admin/sellers'(page=${sellerPage.totalPages - 1}, size=${sellerPage.size}, keyword=${keyword})}">
                            â‰«
                        </a>
                    </li>

                </ul>
            </div>
        </div>

    </div>

</main>
</body>
</html>
