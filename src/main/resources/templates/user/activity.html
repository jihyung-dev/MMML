<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/my_layout}"
      th:with="title='내 활동'">

<head>

    <style layout:fragment="css"></style>
</head>

<body>
<div layout:fragment="content">

  <!--  <div>
        <div class="space"></div>
        <div style="font-size: 30px; font-weight: bold;">이 밑에 줄</div>
        <div class="space"></div>
        <hr class="community-hr">
    </div>
-->
    <!-- 내가 작성한 글 -->
    <section style="margin-top: 30px;">
        <h2 style="font-size: 22px; font-weight: bold;"> 📝 내가 쓴 글</h2>
        <div class="space"></div>

        <div th:if="${myPostPage.content.size() == 0}">
            <p>작성한 게시글이 없습니다.</p>
        </div>

        <ul th:if="${myPostPage.content.size() > 0}">
            <li th:each="post : ${myPostPage.content}" style="margin-bottom: 15px;">
                <a th:href="@{/board/{id}(id=${post.id})}"
                   style="text-decoration: none; font-size: 18px; font-weight: 600;">
                    [[${post.postTitle}]]
                </a>
                <div style="font-size: 12px; color: gray;">작성일: [[${post.createdAt}]]</div>
            </li>
        </ul>
        <hr class="community-hr margin-top-10">
    </section>


    <!-- 내가 쓴 댓글 -->
    <section style="margin-top: 40px;">
        <h2 style="font-size: 22px; font-weight: bold;">💬 내가 쓴 댓글</h2>
        <div class="space"></div>

        <div th:if="${myCommentPage.totalElements == 0}">
            <p>작성한 댓글이 없습니다.</p>
        </div>

        <ul th:if="${myCommentPage.totalElements > 0}">
            <li th:each="comment : ${myCommentPage}" style="margin-bottom: 15px;">
                <a th:href="@{/board/{id}(id=${comment.post.id})}">
                    <div style="font-size: 16px;">
                        <span th:text="${comment.commentContent}"></span>
                    </div>
                    <div style="font-size: 12px; color: gray;">작성일:
                        <span th:text="${comment.createdAt}">
                   </span>
                    </div>
                </a>
            </li>
            <hr class="community-hr">
        </ul>

    </section>


    <!-- 좋아요 누른 게시글 -->
    <section style="margin-top: 40px; margin-bottom: 50px;">
        <h2 style="font-size: 22px; font-weight: bold;">❤️ 좋아요 누른 게시글</h2>
        <div class="space"></div>

        <div th:if="${likedPostPage.content.size() == 0}">
            <p>좋아요한 게시글이 없습니다.</p>
        </div>

        <ul th:if="${likedPostPage.content.size() > 0}">
            <li th:each="post : ${likedPostPage.content}" style="margin-bottom: 15px;">
                <a th:href="@{/board/{id}(id=${post.id})}"
                   style="text-decoration: none; font-size: 18px; font-weight: 600;">
                    [[${post.postTitle}]]
                </a>
                <div style="font-size: 12px; color: gray;">작성일: [[${post.createdAt}]]</div>
            </li>
            <hr class="community-hr">
        </ul>
    </section>

    <!-- 내가 찜한 핫딜 아이템 -->
    <section style="margin-top: 30px; margin-bottom: 40px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h2 style="font-size: 22px; font-weight: bold;">🛍️ 찜한 핫딜</h2>
            <a th:href="@{/mypage/wishlist}" style="text-decoration: none; font-size: 14px; color: gray;">
                더보기 >
            </a>
        </div>

        <div th:if="${myWishPage == null or myWishPage.content.size() == 0}">
            <p>찜한 핫딜 상품이 없습니다.</p>
        </div>

        <div class="row g-3" th:if="${myWishPage != null and myWishPage.content.size() > 0}">
            <div class="col-12 col-sm-6 col-md-4" th:each="wish : ${myWishPage.content}">
                <div class="card h-100 shadow-sm border-0">
                    <a th:href="@{/hotdeal/{id}(id=${wish.item.id})}" style="text-decoration: none; color: inherit;">
                        <img th:src="${wish.item.itemImageUrl != null ? wish.item.itemImageUrl : '/img/no-image.png'}"
                             class="card-img-top"
                             alt="상품 이미지"
                             style="height: 180px; object-fit: cover; border-radius: 5px 5px 0 0;"
                             onerror="this.src='/img/no-image.png'"/>

                        <div class="card-body p-3">
                            <h5 class="card-title text-truncate"
                                style="font-size: 16px; font-weight: 600; margin-bottom: 8px;"
                                th:text="${wish.item.itemName}">상품명</h5>

                            <p class="card-text">
                                <strong class="text-danger"
                                        style="font-size: 18px;"
                                        th:text="${#numbers.formatInteger(wish.item.itemSaleprice, 0, 'COMMA') + '원'}">0원</strong>
                            </p>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        <hr class="community-hr margin-top-10" style="margin-top: 30px;">
    </section>
</div>

<script layout:fragment="script"></script>
</body>
</html>