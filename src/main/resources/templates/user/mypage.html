<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/my_layout}"
      th:with="title='ë§ˆì´í˜ì´ì§€'"
>
<head>
    <style layout:fragment="css">
        .admin-dashboard-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 14px;
            border-radius: 999px;
            font-size: 12px;
            font-weight: 600;
            text-decoration: none;
            border: 1px solid rgba(108, 99, 255, 0.6);
            color: #6c63ff;
            background: rgba(108, 99, 255, 0.06);
            transition: all 0.15s ease-in-out;
        }

        .admin-dashboard-btn .arrow {
            font-size: 13px;
            margin-top: -1px; /* ì‚´ì§ ìœ„ë¡œ */
        }

        .admin-dashboard-btn:hover {
            background: #6c63ff;
            color: #ffffff;
            border-color: #6c63ff;
            box-shadow: 0 6px 14px rgba(108, 99, 255, 0.35);
            transform: translateY(-1px);
        }

    </style>
</head>
<body>
    <div layout:fragment="content">
        <div class="mb-8 rounded-xl border border-gray-200/50 dark:border-white/10 bg-white dark:bg-[#111813] p-4 sm:p-6 @container">
            <div class="flex w-full flex-col gap-6 @[520px]:flex-row @[520px]:justify-between @[520px]:items-center">
                <div class="flex items-center gap-6">
                    <div class="relative">

                        <!-- ì¤‘ì•™ í”„ë¡œí•„ ì‚¬ì§„ -->

                        <img th:src="@{/img/memberimg.png}"
                             class="rounded-circle" width="128" height="128" alt="Profile">

                        <button class="absolute bottom-0 right-0 flex h-8 w-8 cursor-pointer items-center justify-center rounded-full bg-primary text-black dark:text-black">
                            <span class="material-symbols-outlined" style="font-size: 20px; color: white;">edit</span>
                        </button>
                    </div>
                    <div class="flex flex-col justify-center">
                        <p class="text-gray-900 dark:text-white text-[15px] leading-tight tracking-[-0.015em]">ë‹‰ë„¤ì„</p>
                        <p class="text-gray-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em]" th:text="${member.memberNickname}">ë‹‰ë„¤ì„</p>
                        <p class="text-gray-500 dark:text-[#9db9a6] text-base font-normal leading-normal" th:text="'Member ID: ' + ${member.memberId}">ë©¤ë²„ ID</p>
                        <p class="text-gray-500 dark:text-[#9db9a6] text-base font-normal leading-normal" th:text="'Joined on: ' + ${member.createdAt}">ê°€ì…ì¼</p>
                    </div>
                </div>
                <!-- Buttons would appear in edit mode -->
            </div>
        </div>






        <!-- Profile Information Form -->
        <div id="info-section" class="flex flex-col gap-8">
            <!-- Contact Details Section -->
            <div class="rounded-xl border border-gray-200/50 dark:border-white/10 bg-white dark:bg-[#111813] p-4 sm:p-6">

                <div th:if="${session.loginUser != null
            and (session.loginUser.role == 'ADMIN'
                 or session.loginUser.role == 'ROLE_ADMIN')}"
                     class="mb-3 text-end">
                    <a th:href="@{/admin}" class="admin-dashboard-btn">
                        <span class="label">ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</span>
                        <span class="arrow">â†—</span>
                    </a>
                </div>



                <div class="flex items-center justify-between pb-4 border-b border-gray-200/50 dark:border-white/10 mb-6">
                    <h2 class="text-gray-900 dark:text-white text-xl font-bold leading-tight tracking-[-0.015em]">íšŒì› ìƒì„¸ ì •ë³´</h2>

                    <!-- ìˆ˜ì • ë²„íŠ¼ -->
                    <a href="/mypage/user/editpage" class="flex items-center gap-2 min-w-[84px] cursor-pointer justify-center overflow-hidden rounded-lg h-9 px-3 bg-gray-100 dark:bg-white/10 text-gray-800 dark:text-white text-sm font-bold leading-normal tracking-[0.015em]">
                        <span class="material-symbols-outlined" style="font-size: 18px;">edit</span>
                        <span class="truncate">ìˆ˜ì •</span>
                    </a>
                </div>
                <form class="grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-2">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5" for="full-name">ì´ë¦„</label>
                        <input class="w-full rounded-md border-gray-300 dark:border-white/20 bg-transparent text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-primary/50" id="full-name" readonly="" type="text" th:value="${member.memberName}"/>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5" for="email">Email</label>
                        <input class="w-full rounded-md border-gray-300 dark:border-white/20 bg-transparent text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-primary/50" id="email" readonly="" type="email" th:value="${member.email}"/>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5" for="phone">íœ´ëŒ€í° ë²ˆí˜¸</label>
                        <input class="w-full rounded-md border-gray-300 dark:border-white/20 bg-transparent text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-primary/50" id="phone" readonly="" type="tel" th:value="${member.phone}"/>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5" for="address">ì£¼ì†Œ</label>
                        <input class="w-full rounded-md border-gray-300 dark:border-white/20 bg-transparent text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-primary/50" id="address" readonly="" type="text" th:value="${member.address}"/>
                    </div>
                </form>

                <!-- Edit Mode Buttons -->
                <div class="mt-6 flex justify-end gap-3 hidden">
                    <button class="flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-gray-200 dark:bg-white/10 text-gray-800 dark:text-white text-sm font-bold leading-normal tracking-[0.015em]">
                        <span class="truncate">Cancel</span>
                    </button>
                    <button class="flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-primary text-black text-sm font-bold leading-normal tracking-[0.015em]">
                        <span class="truncate">Save Changes</span>
                    </button>
                </div>
            </div>

            <div class="f">
            <div style="height: 120px" class="mb-2 grid grid-cols-1 gap-x-2 gap-y-2 sm:grid-cols-2">
                <a class="bg-white rounded flex items-center justify-center"
                   href="/mypage/activity">
                    <div>ğŸ’– ë‚´ í™œë™</div>
                </a>
                <a class="bg-white rounded flex items-center justify-center"
                   href="/mypage/orders">
                    <div>ğŸ›’ ì£¼ë¬¸ë°°ì†¡</div>
                </a>
            </div>
            <th:block th:if="${session.loginUser.seller != null}">

                <div style="height: 120px" class="mb-8 grid grid-cols-1 gap-x-2 gap-y-2 sm:grid-cols-1">
                    <a class="bg-white rounded flex items-center justify-center"
                       href="/seller">
                        <div>íŒë§¤ì ìƒì„¸</div>
                    </a>
                </div>
            </th:block>


        </div>
    </div>
    <script layout:fragment="script"></script>
</body>
</html>